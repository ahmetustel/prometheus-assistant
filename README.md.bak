# Prometheus Assistant ğŸ”¥

**AI-Powered Development Assistant** - Claude Code ile MCP (Model Context Protocol) entegrasyonu

**RAG + ChromaDB** tabanlÄ± sistem. Claude Code'un context window'u dolduÄŸunda veya yeni session'larda bile projelerinizi "hatÄ±rlayan" MCP server sistemi. ArtÄ±k her seferinde projenizi tekrar aÃ§Ä±klamak zorunda deÄŸilsiniz!

## ğŸ¯ Ã–zellikler

âœ… **Persistent Proje HafÄ±zasÄ±**: Claude her session'da projenizi tanÄ±r
âœ… **Semantic Search**: ChromaDB ile vector-based kod arama
âœ… **RAG System**: Kod parÃ§alarÄ±nÄ± chunk'lara bÃ¶ler ve embeddings oluÅŸturur
âœ… **Development Takibi**: Son deÄŸiÅŸiklikler, aktif task'lar, kararlar
âœ… **Context-Aware Ã–neriler**: Proje mimarisine uygun yardÄ±m
âœ… **Multi-Project Support**: Her proje iÃ§in ayrÄ± ChromaDB collection
âœ… **Real-time File Monitoring**: Dosya deÄŸiÅŸikliklerini otomatik takip

## ğŸš€ HÄ±zlÄ± Kurulum

### 1. Repository'yi Clone Et

```bash
git clone <repo-url>
cd prometheus-assistant
```

### 2. ChromaDB'yi BaÅŸlat

```bash
# Docker ile ChromaDB'yi Ã§alÄ±ÅŸtÄ±r
docker compose up -d

# Kontrol et
curl http://localhost:8002/api/v1/heartbeat
```

### 3. Dependencies YÃ¼kle

```bash
npm install
```

### 3. MCP Server'Ä± Claude Code'a Entegre Et

**Otomatik Kurulum (Ã–nerilen):**

```bash
./setup-mcp.sh
```

**Manuel Kurulum:**

```bash
# Claude Code'un hangi yolla kurulu olduÄŸunu kontrol et
claude mcp add prometheus node $(pwd)/src/index.js

# Test et
claude mcp list
```

### 4. Test Et

```bash
cd /path/to/your/project
claude

# Claude'da test et:
/mcp
"Bu proje hakkÄ±nda ne biliyorsun?"
```

## ğŸ“‹ Supported Claude Code Kurulum Tipileri

### NPM Global (Ã‡oÄŸunlukla Bu)

```bash
# Kurulum kontrol
which claude
# Output: /Users/user/.nvm/versions/node/vX.X.X/bin/claude

# MCP ekle
claude mcp add prometheus node /path/to/prometheus-assistant/src/index.js
```

### Yarn Global

```bash
# Kurulum kontrol
which claude
# Output: /opt/homebrew/bin/claude -> .../yarn/global/...

# MCP ekle (aynÄ± komut)
claude mcp add prometheus node /path/to/prometheus-assistant/src/index.js
```

### Homebrew

```bash
# MCP ekle
claude mcp add prometheus node /path/to/prometheus-assistant/src/index.js
```

## ğŸ› ï¸ MCP Tools (5 Adet)

### 1. `get_project_context`

Projenin tam Ã¶zeti: dosya yapÄ±sÄ±, teknolojiler, son durum

```
"Bu proje hakkÄ±nda detaylÄ± bilgi ver"
```

### 2. `search_project_knowledge`

Kodda ve notlarda akÄ±llÄ± arama

```
"Authentication middleware nerede?"
"Form validation nasÄ±l yapÄ±lmÄ±ÅŸ?"
```

### 3. `get_development_status`

Son deÄŸiÅŸiklikler, aktif task'lar, next steps

```
"Hangi task'larda Ã§alÄ±ÅŸÄ±yordum?"
"Son 7 gÃ¼nde ne deÄŸiÅŸtim?"
```

### 4. `update_project_context`

Development kararlarÄ±nÄ± ve notlarÄ± kaydetme

```
"Bu component iÃ§in Redux kullanmaya karar verdim"
# MCP otomatik kaydeder
```

### 5. `scan_project`

Proje yapÄ±sÄ±nÄ± yeniden analiz et

```
"BÃ¼yÃ¼k deÄŸiÅŸiklikler yaptÄ±m, projeyi yeniden tara"
```

## ğŸ”„ GerÃ§ek KullanÄ±m SenaryolarÄ±

### Session BaÅŸlangÄ±cÄ±

```
ğŸ‘¤ Sen: "Bu CPC projemde kaldÄ±ÄŸÄ±m yerden devam etmek istiyorum"

ğŸ¤– Claude (MCP ile): "CPC projenizde son olarak Form Builder sistemi
   Ã¼zerinde Ã§alÄ±ÅŸtÄ±nÄ±z. FullScreenFormBuilder.js ve FormBuilder.js
   dosyalarÄ± 25 EylÃ¼l'de gÃ¼ncellendi. 85K+ dosyalÄ± Next.js +
   Redux tabanlÄ± belgelendirme platformu..."
```

### Context Window DolduÄŸunda

```
# Context window dolsa bile Claude hatÄ±rlayacak:
âœ… Proje mimarisi (Multi-tenant SaaS)
âœ… Son Ã§alÄ±ÅŸÄ±lan feature (Form Builder)
âœ… Teknoloji stack (Next.js, Redux, MongoDB)
âœ… Aktif task'lar ve kararlar
```

### Kod Arama

```
ğŸ‘¤ Sen: "Customer register componenti nerede?"

ğŸ¤– Claude (MCP search): "CPC projenizde customer register:
   - dashboard/app/cpc-business/register/page.js
   - dashboard/components/cpc-business/register/UserStepForm.js"
```

## ğŸ”§ Troubleshooting

### Problem 1: MCP Server GÃ¶rÃ¼nmÃ¼yor

```bash
# Kontrol et
/mcp
# "No MCP servers configured" Ã§Ä±kÄ±yorsa:

# Ã‡Ã¶zÃ¼m 1: File permissions
chmod +x /path/to/prometheus-assistant/src/index.js

# Ã‡Ã¶zÃ¼m 2: Yeniden ekle
claude mcp remove prometheus
claude mcp add prometheus node /path/to/prometheus-assistant/src/index.js
```

### Problem 2: "Failed to reconnect"

```bash
# Sebep: Permission denied
# Ã‡Ã¶zÃ¼m:
chmod -R 755 /path/to/prometheus-assistant/src/
claude mcp remove prometheus
claude mcp add prometheus node /path/to/prometheus-assistant/src/index.js
```

### Problem 3: Config DosyasÄ± BulunamÄ±yor

```bash
# FarklÄ± yerler dene:
mkdir -p ~/.config/claude-desktop
echo '{"mcpServers": {...}}' > ~/.config/claude-desktop/claude_desktop_config.json

# Veya
mkdir -p ~/Library/Application\ Support/Claude
echo '{"mcpServers": {...}}' > ~/Library/Application\ Support/Claude/claude_desktop_config.json
```

## ğŸ” Debug Tools

### Health Check

```bash
node health-check.cjs
```

Output:

```
ğŸ”¥ Prometheus MCP Health Check
âœ… Node.js version OK
âœ… MCP SDK available
âœ… ChromaDB connection OK (port 8000)
âœ… Project structure OK
âœ… MCP server configured in Claude Code
ğŸš€ Status: READY TO USE
```

### ChromaDB Health Check

```bash
# ChromaDB durumunu kontrol et
docker ps | grep chroma
curl http://localhost:8002/api/v1/heartbeat

# ChromaDB collection'larÄ± listele
curl http://localhost:8002/api/v1/collections
```

### MCP Debug

```bash
./debug-claude-mcp.sh
```

### Connection Test

```bash
# Manual MCP server test
cd prometheus-assistant
node src/index.js
# Server should start and wait for stdio
```

## ğŸ“ Project Structure

```
prometheus-assistant/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js                    # Main MCP server
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ProjectContextManager.js # Core logic + ChromaDB search
â”‚   â”‚   â”œâ”€â”€ ProjectScanner.js        # File analysis + chunking
â”‚   â”‚   â”œâ”€â”€ ChromaDBService.js       # Vector database integration
â”‚   â”‚   â”œâ”€â”€ ContextStorage.js        # YAML storage
â”‚   â”‚   â””â”€â”€ FileWatcher.js           # Change monitoring
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ data/contexts/                   # Project contexts (YAML)
â”œâ”€â”€ chroma_data/                     # ChromaDB persisted data
â”œâ”€â”€ docker-compose.yml               # ChromaDB container config
â”œâ”€â”€ health-check.cjs                 # Health check tool
â”œâ”€â”€ debug-claude-mcp.sh             # Debug script
â”œâ”€â”€ setup-mcp.sh                    # Auto installer
â””â”€â”€ install-mcp.sh                  # Update-safe installer
```

## ğŸ”„ Claude Code GÃ¼ncellemeleri

Claude Code gÃ¼ncellendiÄŸinde MCP config silinebilir. Ã‡Ã¶zÃ¼m:

```bash
cd prometheus-assistant
./install-mcp.sh
```

Bu script tÃ¼m olasÄ± config lokasyonlarÄ±na MCP setup'Ä± restore eder.

## ğŸ¯ Best Practices

### 1. GÃ¼nlÃ¼k Workflow

```bash
# GÃ¼ne baÅŸlarken
"Bu projede kaldÄ±ÄŸÄ±m yerden devam edeyim"

# Kod ararken
"Authentication sistemi nasÄ±l Ã§alÄ±ÅŸÄ±yor?"

# Karar verirken
"Bu component iÃ§in hangi pattern kullanayÄ±m?"

# GÃ¼nÃ¼ bitirirken
"BugÃ¼n form validation sistemi tamamladÄ±m"
# MCP otomatik kaydeder
```

### 2. Development Notes

```
# Ã–nemli kararlarÄ± kaydet
"React Hook Form yerine Formik kullanmaya karar verdim Ã§Ã¼nkÃ¼..."

# Task'larÄ± iÅŸaretle
"Customer dashboard responsiveness tamamlandÄ±"

# Next steps belirle
"SÄ±radaki task: API rate limiting implementasyonu"
```

### 3. Multi-Project Management

```bash
# Her projeye ayrÄ± context
cd /path/to/project1
"Bu projede authentication nasÄ±l?"

cd /path/to/project2
"Bu projede authentication nasÄ±l?"
# MCP her proje iÃ§in ayrÄ± hafÄ±za tutar
```

## ğŸŒŸ Advanced Features

### Semantic Search with ChromaDB

```javascript
// Code chunks automatic processing
// 1. Files â†’ chunks (1500 chars, 200 overlap)
// 2. Semantic chunks (functions, classes)
// 3. ChromaDB embeddings
// 4. Vector similarity search

// Usage:
"Authentication middleware implementation";
// â†’ ChromaDB finds similar code chunks across project
```

### Custom Context Updates

```javascript
// Programmatik olarak context gÃ¼ncelle
update_project_context({
  type: "decision",
  content: "Microservice architecture'a geÃ§meye karar verdik",
  tags: ["architecture", "microservices", "planning"],
});
```

### Search Filters

```bash
# Specific file types'ta ara
search_project_knowledge("validation", {file_types: ["js", "tsx"]})

# Recent changes'de ara
get_development_status({days_back: 14})
```

### Project Scanning Options

```bash
# Force refresh (bÃ¼yÃ¼k deÄŸiÅŸiklikler sonrasÄ±)
scan_project({force_refresh: true})
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ License

MIT License - see LICENSE file for details

---

## ğŸ‰ SonuÃ§

Bu sistem ile Claude Code artÄ±k gerÃ§ekten projelerinizi "bilen" bir geliÅŸtirme partneri haline geliyor. Context window dolsa bile, yeni session'larda bile projelerinizin hafÄ±zasÄ± korunur.

**BaÅŸka bilgisayarlara kurulum iÃ§in sadece bu README'yi takip et - tÃ¼m karÅŸÄ±laÅŸtÄ±ÄŸÄ±mÄ±z sorunlarÄ±n Ã§Ã¶zÃ¼mleri burada! ğŸš€**
